name: 副班提醒服务
on:
  schedule:
    - cron: '20,25,30,35 2 * * *'
  workflow_dispatch:
    inputs:
      description:
        description: '手动触发副班提醒测试'
        required: false
        default: '测试执行'
jobs:
  send-reminder:
    runs-on: ubuntu-latest
    steps:
      - name: 智能副班提醒
        run: |
          # 如果是手动触发，显示测试信息
          if [ "${{ github.event_name }}" = "workflow_dispatch" ]; then
            echo "🚀 手动触发测试执行"
            echo "输入描述: ${{ github.event.inputs.description }}"
          fi
          
          # 原有的时间判断和业务逻辑
          CURRENT_DAY=$(date +%u)
          CURRENT_HOUR=$(date +%H)
          CURRENT_MINUTE=$(date +%M)
          
          # 如果是手动触发，跳过时间窗口检查
          if [ "${{ github.event_name }}" = "workflow_dispatch" ] || 
             ([ "$CURRENT_HOUR" = "10" ] && [ "$CURRENT_MINUTE" -ge 20 ] && [ "$CURRENT_MINUTE" -le 35 ]); then
            echo "执行副班提醒逻辑..."
            # ... 其余代码
          fi
